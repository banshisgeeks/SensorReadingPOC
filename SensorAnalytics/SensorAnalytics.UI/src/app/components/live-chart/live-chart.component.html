<div class="dashboard-container p-4">
    <div class="header flex justify-between items-center mb-8"> <!-- was mb-4 -->
        <div class="center-container">
            <h1 class="text-2xl font-bold text-center">Sensor Analytics POC</h1>
        </div>
        <div class="filters flex center gap-2 mb-6">
            <input type="date" placeholder="From" />
            <input type="date" placeholder="To" />           
        </div>
    </div>

<div class="flex gap-6 section">

    <!-- Top Row: KPI Cards -->
     <div class="flex flex-col">

         <div class="kpi-row gap-6 mb-8">
             <ng-container *ngFor="let sensorId of sensorStats | keyvalue">
                 <p-card class="shadow-lg rounded-2xl">
                     <div class="p-4 bg-gradient-to-br from-gray-50 to-white text-center">
     
                         <!-- Sensor Title -->
                         <div class="text-lg font-semibold text-gray-800 mb-6 border-b pb-2">
                             Sensor <span class="text-indigo-600">{{sensorId.key}}</span>
                         </div>
     
                         <!-- KPI Values -->
                         <div class="flex gap-8"> <!-- increase gap -->
                             <div class="flex flex-col items-center">
                                 <div class="text-sm text-gray-500 mb-2">Average : <span
                                         class="text-2xl font-bold text-indigo-400">{{sensorId.value.avg | number:'1.1-2'}}
                                     </span></div>
     
                             </div>
     
                             <div class="flex flex-col items-center">
                                 <div class="text-sm text-gray-500 mb-2">Min : <span
                                         class="text-2xl font-bold text-green-600">{{sensorId.value.min |
                                         number:'1.1-2'}}</span>
                                 </div>
                             </div>
     
                             <div class="flex flex-col items-center">
                                 <div class="text-sm text-gray-500 mb-2">Max : <span
                                         class="text-2xl font-bold text-red-600">{{sensorId.value.max |
                                         number:'1.1-2'}}</span>
                                 </div>
                             </div>
                         </div>
     
                     </div>
                 </p-card>
             </ng-container>
         </div>
     
     <div class="p-4 bg-white rounded shadow">
         <apx-chart [series]="series" [chart]="chart" [xaxis]="xaxis" [dataLabels]="dataLabels">
         </apx-chart>
     </div>
     </div>


    <div class=" right-container alerts-panel p-4 border-t" *ngIf="showAnomalies">
        <h3 class="text-lg font-bold mb-2">Alerts</h3>
        <ul>
            <li *ngFor="let alert of alerts" [style.color]="alert.severity === 'CRITICAL' ? 'red' : 'orange'">
                {{alert.timestamp | date:'HH:mm:ss'}} -
                Sensor: {{alert.sensorId}} -
                Type: {{alert.type}} -
                Value: {{alert.value | number:'1.1-2'}} -
                Severity: {{alert.severity}}
            </li>
        </ul>
        <button class="mt-4 bg-gray-200 px-3 py-1 rounded" (click)="clearAlerts()">
            Clear Alerts
        </button>
    </div>
</div>

</div>
